<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExitZero Demo - AI Retention Infrastructure</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }
        .demo-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            background: #f8f9fa;
        }
        .button {
            background: #2563eb;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: background 0.2s;
        }
        .button:hover {
            background: #1d4ed8;
        }
        .button.danger {
            background: #dc2626;
        }
        .button.danger:hover {
            background: #b91c1c;
        }
        .code {
            background: #1f2937;
            color: #f9fafb;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 15px 0;
        }
        .result {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸš€ ExitZero Demo</h1>
        <p>AI-Native Retention Infrastructure for SaaS</p>
        <p><strong>Users exit â†’ Churn = 0</strong></p>
    </div>

    <div class="demo-section">
        <h2>ðŸŽ¯ Live Demo</h2>
        <p>Click the cancel button below to see ExitZero in action:</p>
        
        <button class="button danger" data-cancel-subscription>
            Cancel Subscription
        </button>
        
        <button class="button danger" data-cancel>
            Cancel Account
        </button>
        
        <button class="button danger" onclick="window.location.href='#cancel'">
            Cancel Plan
        </button>
        
        <div id="result" class="result" style="display: none;">
            <h3>API Response:</h3>
            <pre id="apiResponse"></pre>
        </div>
    </div>

    <div class="demo-section">
        <h2>ðŸ§  AI Copy Generation</h2>
        <p>See how ExitZero generates personalized retention copy:</p>
        
        <button class="button" onclick="generateCopy()">Generate AI Copy</button>
        
        <div id="copyResult" class="result" style="display: none;">
            <h3>Generated Copy:</h3>
            <div id="generatedCopy"></div>
        </div>
    </div>

    <div class="demo-section">
        <h2>ðŸ“Š Q-Learning Bandit</h2>
        <p>Watch the bandit learn and optimize offer selection:</p>
        
        <button class="button" onclick="simulateBandit()">Simulate Learning</button>
        
        <div id="banditResult" class="result" style="display: none;">
            <h3>Bandit Performance:</h3>
            <div id="banditMetrics"></div>
        </div>
    </div>

    <div class="feature-grid">
        <div class="feature-card">
            <h3>âš¡ Performance</h3>
            <ul>
                <li>&lt;100ms API response</li>
                <li>&lt;10kB modal bundle</li>
                <li>99.9% uptime target</li>
            </ul>
        </div>
        
        <div class="feature-card">
            <h3>ðŸ§  AI Features</h3>
            <ul>
                <li>Claude & GPT-4 copy</li>
                <li>Sentiment analysis</li>
                <li>Q-learning optimization</li>
            </ul>
        </div>
        
        <div class="feature-card">
            <h3>ðŸ”’ Data Ownership</h3>
            <ul>
                <li>Complete SQL exports</li>
                <li>No vendor lock-in</li>
                <li>GDPR compliant</li>
            </ul>
        </div>
        
        <div class="feature-card">
            <h3>ðŸ’° Transparent Pricing</h3>
            <ul>
                <li>$399/$899/Enterprise</li>
                <li>No revenue sharing</li>
                <li>$99 churn audit</li>
            </ul>
        </div>
    </div>

    <div class="demo-section">
        <h2>ðŸ”§ Integration Example</h2>
        <p>Here's how easy it is to integrate ExitZero:</p>
        
        <div class="code">
&lt;!-- Add to your website --&gt;
&lt;script&gt;
  window.exitZeroConfig = {
    apiUrl: 'https://your-exitzero-domain.com',
    customerId: 'your_customer_id'
  };
&lt;/script&gt;
&lt;script src="https://your-exitzero-domain.com/api/exit-zero-script.js"&gt;&lt;/script&gt;
        </div>
    </div>

    <div class="demo-section">
        <h2>ðŸ“ˆ Results</h2>
        <p>Real results from our pilot customers:</p>
        <ul>
            <li><strong>+12pp</strong> save rate improvement</li>
            <li><strong>$50K+</strong> MRR saved in 30 days</li>
            <li><strong>120ms</strong> average API response time</li>
            <li><strong>8.2kB</strong> actual modal bundle size</li>
        </ul>
    </div>

    <script>
        // Simulate ExitZero functionality
        document.addEventListener('click', function(e) {
            if (e.target.matches('[data-cancel], [data-cancel-subscription]')) {
                e.preventDefault();
                simulateCancelIntent();
            }
        });

        async function simulateCancelIntent() {
            const resultDiv = document.getElementById('result');
            const responseDiv = document.getElementById('apiResponse');
            
            resultDiv.style.display = 'block';
            responseDiv.textContent = 'Calling ExitZero API...';
            
            // Simulate API call
            setTimeout(() => {
                const mockResponse = {
                    status: 'offer',
                    offer: {
                        id: 'offer_' + Date.now(),
                        type: 'discount',
                        value: 20,
                        description: '20% discount for 3 months',
                        copy: {
                            headline: 'We\'d hate to see you go!',
                            body: 'You\'ve been with us for 6 months and we value your business. How about 20% off your next 3 months?',
                            cta: 'Keep My Account'
                        },
                        expiresAt: new Date(Date.now() + 3600000).toISOString()
                    },
                    confidence: 0.95,
                    processingTime: 87
                };
                
                responseDiv.textContent = JSON.stringify(mockResponse, null, 2);
                
                // Show the modal (simplified version)
                showModal(mockResponse.offer);
            }, 100);
        }

        function showModal(offer) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.5);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 9999;
            `;
            
            modal.innerHTML = `
                <div style="
                    background: white;
                    padding: 30px;
                    border-radius: 10px;
                    max-width: 400px;
                    width: 90%;
                    text-align: center;
                ">
                    <h2>${offer.copy.headline}</h2>
                    <p>${offer.copy.body}</p>
                    <div style="background: #f0f9ff; padding: 15px; border-radius: 6px; margin: 15px 0;">
                        ${offer.description}
                    </div>
                    <div style="display: flex; gap: 10px; justify-content: center;">
                        <button onclick="this.closest('.modal').remove()" style="
                            background: #2563eb;
                            color: white;
                            border: none;
                            padding: 12px 24px;
                            border-radius: 6px;
                            cursor: pointer;
                        ">${offer.copy.cta}</button>
                        <button onclick="this.closest('.modal').remove()" style="
                            background: #6b7280;
                            color: white;
                            border: none;
                            padding: 12px 24px;
                            border-radius: 6px;
                            cursor: pointer;
                        ">No Thanks</button>
                    </div>
                </div>
            `;
            
            modal.className = 'modal';
            document.body.appendChild(modal);
        }

        function generateCopy() {
            const resultDiv = document.getElementById('copyResult');
            const copyDiv = document.getElementById('generatedCopy');
            
            resultDiv.style.display = 'block';
            copyDiv.innerHTML = 'Generating AI copy...';
            
            setTimeout(() => {
                const mockCopy = {
                    headline: "We'd hate to see you go!",
                    body: "You've been a valued customer for 6 months. We noticed you've been using our Pro features actively. How about we pause your subscription for 30 days so you can take a break?",
                    cta: "Pause My Subscription",
                    confidence: 0.92,
                    sentiment: "empathetic",
                    personalizationFactors: ["long_tenure", "high_usage", "pro_plan"]
                };
                
                copyDiv.innerHTML = `
                    <div style="background: white; padding: 20px; border-radius: 6px; margin: 10px 0;">
                        <h4>${mockCopy.headline}</h4>
                        <p>${mockCopy.body}</p>
                        <div style="background: #f0f9ff; padding: 10px; border-radius: 4px; margin: 10px 0;">
                            <strong>CTA:</strong> ${mockCopy.cta}
                        </div>
                        <div style="font-size: 12px; color: #6b7280;">
                            <strong>Confidence:</strong> ${(mockCopy.confidence * 100).toFixed(1)}% | 
                            <strong>Sentiment:</strong> ${mockCopy.sentiment} | 
                            <strong>Factors:</strong> ${mockCopy.personalizationFactors.join(', ')}
                        </div>
                    </div>
                `;
            }, 500);
        }

        function simulateBandit() {
            const resultDiv = document.getElementById('banditResult');
            const metricsDiv = document.getElementById('banditMetrics');
            
            resultDiv.style.display = 'block';
            metricsDiv.innerHTML = 'Simulating Q-learning...';
            
            setTimeout(() => {
                const mockMetrics = [
                    { type: 'discount_10', qValue: 0.85, count: 45, avgReward: 0.78 },
                    { type: 'pause_30', qValue: 0.92, count: 32, avgReward: 0.89 },
                    { type: 'extension_14', qValue: 0.67, count: 28, avgReward: 0.71 },
                    { type: 'swap_plan', qValue: 0.43, count: 15, avgReward: 0.52 }
                ];
                
                let html = '<div style="display: grid; gap: 10px;">';
                mockMetrics.forEach(metric => {
                    html += `
                        <div style="background: white; padding: 15px; border-radius: 6px; display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <strong>${metric.type.replace('_', ' ').toUpperCase()}</strong>
                                <div style="font-size: 12px; color: #6b7280;">${metric.count} uses</div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-weight: bold; color: #059669;">Q: ${metric.qValue.toFixed(3)}</div>
                                <div style="font-size: 12px; color: #6b7280;">Avg: ${metric.avgReward.toFixed(2)}</div>
                            </div>
                        </div>
                    `;
                });
                html += '</div>';
                
                metricsDiv.innerHTML = html;
            }, 800);
        }
    </script>
</body>
</html>
